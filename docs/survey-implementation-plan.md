# AI Leadership 4Dx - 설문 구현 계획 (수정본)

## 📋 설문 구성 (총 43문항)

### 1. 블레이크·마우턴 관리 그리드 (16문항)
- **사람 관심**: 8문항 (1-7점 척도)
- **성과 관심**: 8문항 (1-7점 척도)

### 2. 피드백 강도 (진실한 직면) (8문항)
- **관심(배려)**: 4문항 (1-7점 척도)
- **직면(도전)**: 4문항 (1-7점 척도)

### 3. 리더-구성원 교환(LMX) (7문항)
- **신뢰·충성·전문적 존중**: 7문항 (1-7점 척도)

### 4. **Influence Gauge** (12문항) ⭐ 이름 변경
- 구 Dirty Dozen → **Influence Gauge**로 리브랜딩
- 1-5점 척도
- **중요**: 실제 측정 항목 노출 금지
  - ❌ 마키아벨리즘
  - ❌ 나르시시즘  
  - ❌ 사이코패시
  - ✅ "영향력 스타일" 또는 "리더십 영향력 패턴"으로 표현

## 🔐 보안 및 권한 설계

### 사용자별 뷰
1. **일반 설문 참여자**
   - Influence Gauge는 "영향력 스타일 진단"으로만 표시
   - 결과에서 긍정적 프레이밍 사용
   - 실제 측정 지표명 완전 차단

2. **관리자/HR 담당자**
   - 전체 분석 결과 열람 가능
   - Influence Gauge 실제 지표 확인 가능:
     - 마키아벨리즘 점수
     - 나르시시즘 점수
     - 사이코패시 점수
   - 위험 신호 알림 기능

### 데이터베이스 설계
```sql
-- influence_gauge_results 테이블
CREATE TABLE influence_gauge_results (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  -- 실제 점수는 암호화된 컬럼명 사용
  strategic_thinking FLOAT, -- 마키아벨리즘
  self_confidence FLOAT,    -- 나르시시즘  
  risk_tolerance FLOAT,     -- 사이코패시
  -- 공개용 점수
  influence_style VARCHAR(50),
  created_at TIMESTAMP
);

-- RLS 정책: 관리자만 실제 컬럼 조회 가능
```

## 🎯 구현 우선순위

### 1단계: 기본 설문 폼
1. **설문 UI 구성**
   - 섹션별 진행 표시
   - 실시간 진행률
   - 모바일 반응형

2. **Influence Gauge 처리**
   - 프론트엔드: "영향력 스타일 진단" 섹션으로 표시
   - 백엔드: 실제 지표 계산은 서버에서만 수행
   - API 응답: 사용자 권한에 따라 다른 필드 반환

### 2단계: 결과 표시
1. **일반 사용자 결과**
   ```json
   {
     "leadership_style": "협력적 리더십",
     "influence_pattern": "균형잡힌 영향력",
     "strengths": ["전략적 사고", "자신감"],
     "development_areas": ["위험 관리"]
   }
   ```

2. **관리자 결과** (추가 필드)
   ```json
   {
     // 일반 필드 + 
     "dark_triad_scores": {
       "machiavellianism": 3.2,
       "narcissism": 2.8,
       "psychopathy": 1.5
     },
     "risk_level": "moderate",
     "detailed_analysis": "..."
   }
   ```

## 🛡️ 보안 고려사항

1. **API 엔드포인트 분리**
   - `/api/v1/survey/submit` - 일반 사용자
   - `/api/v1/admin/survey/analysis` - 관리자 전용

2. **프론트엔드 코드 난독화**
   - Influence Gauge 관련 로직 최소화
   - 실제 계산은 백엔드에서만 수행

3. **감사 로그**
   - 관리자의 상세 결과 조회 기록
   - 민감 데이터 접근 추적

## 📱 UI/UX 설계

### Influence Gauge 섹션 표시
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎯 영향력 스타일 진단 (12문항)

이 섹션은 귀하의 리더십 영향력 패턴을 
파악하기 위한 질문입니다.

[시작하기]
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 관리자 대시보드 (숨겨진 분석)
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️ 리스크 지표 분석 (관리자 전용)

[상세 분석 보기] 🔒
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

**중요 원칙**: 사용자는 자신이 평가받는 실제 지표를 절대 알 수 없어야 함