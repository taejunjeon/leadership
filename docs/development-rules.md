# Grid 3.0 ë¦¬ë”ì‹­ ë§¤í•‘ í”Œë«í¼ ê°œë°œ ê·œì¹™

> ìµœì¢… ì—…ë°ì´íŠ¸: 2025-08-02  
> ì‘ì„±ì: í—¤íŒŒì´ìŠ¤í† ìŠ¤  
> í”„ë¡œì íŠ¸: Grid 3.0 Leadership Mapping Platform  
> ì ìš© ë²”ìœ„: ëª¨ë“  ê°œë°œíŒ€ì›

## ëª©ì°¨

1. [ê°œë°œ ì² í•™](#1-ê°œë°œ-ì² í•™)
2. [ê¸°ìˆ  ìŠ¤íƒ ê·œì¹™](#2-ê¸°ìˆ -ìŠ¤íƒ-ê·œì¹™)
3. [ì½”ë“œ í’ˆì§ˆ ê¸°ì¤€](#3-ì½”ë“œ-í’ˆì§ˆ-ê¸°ì¤€)
4. [Git ì›Œí¬í”Œë¡œìš°](#4-git-ì›Œí¬í”Œë¡œìš°)
5. [í…ŒìŠ¤íŠ¸ ê·œì¹™](#5-í…ŒìŠ¤íŠ¸-ê·œì¹™)
6. [API ê°œë°œ ê·œì¹™](#6-api-ê°œë°œ-ê·œì¹™)
7. [ë°ì´í„°ë² ì´ìŠ¤ ê·œì¹™](#7-ë°ì´í„°ë² ì´ìŠ¤-ê·œì¹™)
8. [ì„±ëŠ¥ ë° ë³´ì•ˆ](#8-ì„±ëŠ¥-ë°-ë³´ì•ˆ)
9. [ë¬¸ì„œí™” ê·œì¹™](#9-ë¬¸ì„œí™”-ê·œì¹™)
10. [ë°°í¬ ë° ìš´ì˜](#10-ë°°í¬-ë°-ìš´ì˜)

## 1. ê°œë°œ ì² í•™

### 1.1 í•µì‹¬ ì›ì¹™

#### íƒìƒ‰ ìš°ì„  (Exploration First) ğŸ”
- **ì½”ë“œ ë³€ê²½ ì „ ì¶©ë¶„í•œ ì´í•´**: ê¸°ì¡´ ì½”ë“œë² ì´ìŠ¤ ë¶„ì„ í›„ ì‘ì—… ì‹œì‘
- **ì˜ì¡´ì„±ê³¼ ì˜í–¥ ë²”ìœ„ íŒŒì•…**: ë³€ê²½ì´ ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì‚¬ì „ì— ë¶„ì„
- **ë¶ˆí™•ì‹¤í•œ ë¶€ë¶„ì€ ë¨¼ì € ì¡°ì‚¬**: ê°€ì •í•˜ì§€ ë§ê³  í™•ì¸ í›„ ì§„í–‰

#### ì ì§„ì  ê°œë°œ (Incremental Development) ğŸ“ˆ
- **ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í• **: í° ë³€ê²½ì„ ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ ì§„í–‰
- **ê° ë‹¨ê³„ë§ˆë‹¤ ì»¤ë°‹**: ì²´í¬í¬ì¸íŠ¸ ìƒì„±ìœ¼ë¡œ ë¡¤ë°± ê°€ëŠ¥í•œ ìƒíƒœ ìœ ì§€
- **í•˜ë‚˜ì”© ì™„ì„±**: í•œ ë²ˆì— í•˜ë‚˜ì˜ ê¸°ëŠ¥ë§Œ ì§‘ì¤‘í•´ì„œ ì™„ë£Œ

#### ê²€ì¦ ê¸°ë°˜ (Verification Based) âœ…
- **ë³€ê²½ í›„ ì¦‰ì‹œ í…ŒìŠ¤íŠ¸**: ëª¨ë“  ë³€ê²½ì‚¬í•­ì€ í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦
- **ì‹¤ì œ ë™ì‘ í™•ì¸**: API ë³€ê²½ ì‹œ ì‹¤ì œ í˜¸ì¶œí•˜ì—¬ í…ŒìŠ¤íŠ¸
- **ì˜ˆìƒê³¼ ì‹¤ì œ ë¹„êµ**: ê¸°ëŒ€ ë™ì‘ê³¼ ì‹¤ì œ ë™ì‘ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸

#### ì»¨í…ìŠ¤íŠ¸ ìœ ì§€ (Context Preservation) ğŸ“
- **ì‘ì—… ëª©ë¡ ê´€ë¦¬**: TodoWrite ë„êµ¬ë¡œ ì§„í–‰ ìƒí™© ì¶”ì 
- **ì¤‘ìš” ê²°ì •ì‚¬í•­ ë¬¸ì„œí™”**: ì•„í‚¤í…ì²˜ ê²°ì •ê³¼ ê·¼ê±° ê¸°ë¡
- **ì„¸ì…˜ ê°„ ì—°ì†ì„±**: ì‘ì—… ì»¨í…ìŠ¤íŠ¸ë¥¼ ë‹¤ìŒ ì„¸ì…˜ì— ì „ë‹¬

### 1.2 í’ˆì§ˆ ìš°ì„ ìˆœìœ„

ì‘ì—… ì‹œ ë‹¤ìŒ ìš°ì„ ìˆœìœ„ë¥¼ ë”°ë¦…ë‹ˆë‹¤:

1. **ì½”ë“œ ë™ì‘ì˜ ì •í™•ì„±** - ê¸°ëŠ¥ì´ ì •í™•íˆ ì‘ë™í•˜ëŠ”ê°€?
2. **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€** - ë³€ê²½ì‚¬í•­ì´ ì¶©ë¶„íˆ í…ŒìŠ¤íŠ¸ë˜ì—ˆëŠ”ê°€?
3. **ì½”ë“œ ë‹¨ìˆœì„±** - ë³µì¡í•˜ì§€ ì•Šê³  ì´í•´í•˜ê¸° ì‰¬ìš´ê°€?
4. **ì„±ëŠ¥ ìµœì í™”** - í•„ìš”í•œ ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ”ê°€?

## 2. ê¸°ìˆ  ìŠ¤íƒ ê·œì¹™

### 2.1 ìŠ¹ì¸ëœ ê¸°ìˆ  ìŠ¤íƒ

#### í”„ë¡ íŠ¸ì—”ë“œ âœ…
```yaml
framework: Next.js 14+ (App Router í•„ìˆ˜)
language: TypeScript 5.4+ (strict mode í•„ìˆ˜)
ui_library: React 18.3
styling: Tailwind CSS 3.4
state_management: Zustand
data_fetching: TanStack Query v5
3d_visualization: React Three Fiber
forms: React Hook Form + Zod
```

#### ë°±ì—”ë“œ âœ…
```yaml
framework: FastAPI (Python 3.12)
validation: Pydantic v2
async: asyncio (í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬)
orm: SQLAlchemy 2.0+ (async)
migration: Alembic
```

#### ë°ì´í„°ë² ì´ìŠ¤ âœ…
```yaml
primary_db: PostgreSQL 15 (Supabase)
vector_search: pgvector
cache: Redis (ì„ íƒì )
```

### 2.2 ê¸ˆì§€ëœ ê¸°ìˆ 

#### âŒ ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€
- **jQuery**: Reactì™€ ì¶©ëŒ ìœ„í—˜
- **moment.js**: ë²ˆë“¤ í¬ê¸° ë¬¸ì œ (date-fns ì‚¬ìš©)
- **lodash**: ë„¤ì´í‹°ë¸Œ JS ë©”ì„œë“œ ìš°ì„  ì‚¬ìš©
- **CSS-in-JS ëŸ°íƒ€ì„**: ì„±ëŠ¥ ì´ìŠˆ (Tailwind ì‚¬ìš©)
- **Class ì»´í¬ë„ŒíŠ¸**: í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë§Œ ì‚¬ìš©

#### âš ï¸ ì‚¬ì „ ìŠ¹ì¸ í•„ìš”
- ìƒˆë¡œìš´ UI ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
- ë²ˆë“¤ í¬ê¸° 1MB ì´ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬
- ì‹¤í—˜ì (alpha/beta) ë²„ì „ íŒ¨í‚¤ì§€

### 2.3 ë²„ì „ ê´€ë¦¬

```json
// package.json ë²„ì „ ê³ ì • ì›ì¹™
{
  "dependencies": {
    "next": "14.2.5",          // âœ… ì •í™•í•œ ë²„ì „ ê³ ì •
    "react": "^18.3.0",        // âœ… ë§ˆì´ë„ˆ ì—…ë°ì´íŠ¸ í—ˆìš©
    "typescript": "~5.4.0"     // âš ï¸ íŒ¨ì¹˜ë§Œ í—ˆìš©
  }
}
```

## 3. ì½”ë“œ í’ˆì§ˆ ê¸°ì¤€

### 3.1 TypeScript ê·œì¹™

#### í•„ìˆ˜ ì„¤ì •
```json
// tsconfig.json
{
  "compilerOptions": {
    "strict": true,                    // âœ… í•„ìˆ˜
    "noUncheckedIndexedAccess": true, // âœ… í•„ìˆ˜
    "exactOptionalPropertyTypes": true, // âœ… í•„ìˆ˜
    "noImplicitReturns": true,        // âœ… í•„ìˆ˜
    "noUnusedLocals": true,           // âœ… í•„ìˆ˜
    "noUnusedParameters": true        // âœ… í•„ìˆ˜
  }
}
```

#### íƒ€ì… ì •ì˜ ê·œì¹™
```typescript
// âœ… ì˜¬ë°”ë¥¸ íƒ€ì… ì •ì˜
interface Leader {
  readonly id: string;              // IDëŠ” ë³€ê²½ ë¶ˆê°€
  name: string;
  email: string;
  team?: string;                    // ì„ íƒì  ì†ì„± ëª…ì‹œ
  scores: LeadershipScores;         // ì¤‘ì²© íƒ€ì… ì‚¬ìš©
}

interface LeadershipScores {
  peopleConcern: number;
  productionConcern: number;
  candorLevel: number;
  lmxQuality: number;
}

// âŒ ê¸ˆì§€ì‚¬í•­
type BadType = any;                 // any ì‚¬ìš© ê¸ˆì§€
interface BadInterface {
  [key: string]: unknown;          // ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ìµœì†Œí™”
}
```

### 3.2 ë„¤ì´ë° ì»¨ë²¤ì…˜

#### íŒŒì¼ ë° í´ë”ëª…
```
âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ:
- components/LeaderCard.tsx        (PascalCase for components)
- lib/api-client.ts               (kebab-case for utilities)
- types/leadership.ts             (lowercase for type files)
- hooks/useLeaderData.ts          (camelCase for hooks)

âŒ ì˜ëª»ëœ ì˜ˆì‹œ:
- Components/leader-card.tsx      (í˜¼ì¬ ì‚¬ìš©)
- lib/apiClient.ts               (camelCase in lib)
- types/Leadership.ts            (PascalCase for types)
```

#### ë³€ìˆ˜ ë° í•¨ìˆ˜ëª…
```typescript
// âœ… ì˜ë¯¸ ëª…í™•í•œ ë„¤ì´ë°
const leaderSurveyResponses = data;
const calculateLeadershipScores = (answers: number[]) => { ... };
const isValidEmail = (email: string): boolean => { ... };

// âŒ ëª¨í˜¸í•œ ë„¤ì´ë°
const data = survey;
const calc = (arr: number[]) => { ... };
const check = (str: string) => { ... };
```

### 3.3 í•¨ìˆ˜ ì‘ì„± ê·œì¹™

#### í•¨ìˆ˜ í¬ê¸° ì œí•œ
```typescript
// âœ… ì ì ˆí•œ í•¨ìˆ˜ í¬ê¸° (20ì¤„ ì´í•˜)
function calculatePeopleConcern(answers: number[]): number {
  const peopleAnswers = answers.slice(0, 8);
  const sum = peopleAnswers.reduce((acc, curr) => acc + curr, 0);
  return Number((sum / peopleAnswers.length).toFixed(3));
}

// âŒ ë„ˆë¬´ ê¸´ í•¨ìˆ˜ (50ì¤„ ì´ìƒ)
function processEntireSurvey(data: unknown): unknown {
  // 50+ lines of mixed logic
  // ì—¬ëŸ¬ ì±…ì„ì„ ê°€ì§„ í•¨ìˆ˜
}
```

#### ìˆœìˆ˜ í•¨ìˆ˜ ìš°ì„ 
```typescript
// âœ… ìˆœìˆ˜ í•¨ìˆ˜ (side effect ì—†ìŒ)
function determineLeadershipStyle(
  peopleConcern: number, 
  productionConcern: number
): string {
  if (peopleConcern >= 7 && productionConcern >= 7) {
    return `íŒ€í˜•(${peopleConcern}, ${productionConcern})`;
  }
  // ... ê¸°íƒ€ ë¡œì§
  return `ì¤‘ë„í˜•(${peopleConcern}, ${productionConcern})`;
}

// âŒ ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ìˆëŠ” í•¨ìˆ˜
function calculateAndSaveScores(data: SurveyData): void {
  const scores = calculate(data);
  localStorage.setItem('scores', JSON.stringify(scores)); // âŒ ì‚¬ì´ë“œ ì´í™íŠ¸
  updateDatabase(scores);                                  // âŒ ì‚¬ì´ë“œ ì´í™íŠ¸
}
```

### 3.4 ì—ëŸ¬ ì²˜ë¦¬

```typescript
// âœ… ëª…ì‹œì  ì—ëŸ¬ ì²˜ë¦¬
async function fetchLeaderData(id: string): Promise<Leader | null> {
  try {
    const response = await api.get(`/leaders/${id}`);
    
    if (!response.ok) {
      throw new Error(`Failed to fetch leader: ${response.status}`);
    }
    
    return response.data;
  } catch (error) {
    console.error('Error fetching leader:', error);
    return null; // ëª…ì‹œì ìœ¼ë¡œ null ë°˜í™˜
  }
}

// âŒ ì—ëŸ¬ ë¬´ì‹œ
async function badFetchLeaderData(id: string): Promise<Leader> {
  const response = await api.get(`/leaders/${id}`); // ì—ëŸ¬ ì²˜ë¦¬ ì—†ìŒ
  return response.data; // ì‹¤íŒ¨ ì‹œ undefined ë°˜í™˜ ê°€ëŠ¥
}
```

## 4. Git ì›Œí¬í”Œë¡œìš°

### 4.1 ë¸Œëœì¹˜ ì „ëµ

```bash
# ë¸Œëœì¹˜ ë„¤ì´ë° ê·œì¹™
main                    # í”„ë¡œë•ì…˜ ë¸Œëœì¹˜
develop                 # ê°œë°œ í†µí•© ë¸Œëœì¹˜
feature/leader-dashboard    # ê¸°ëŠ¥ ê°œë°œ
hotfix/survey-validation   # ê¸´ê¸‰ ìˆ˜ì •
release/v1.0.0         # ë¦´ë¦¬ì¦ˆ ì¤€ë¹„
```

### 4.2 ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

#### ì»¤ë°‹ ë©”ì‹œì§€ í˜•ì‹
```bash
# í˜•ì‹: <type>(<scope>): <description>
# 
# <body>
# 
# <footer>

# âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
feat(dashboard): add 3D leadership grid visualization
fix(api): resolve survey response validation error
docs(readme): update installation instructions
test(leaders): add unit tests for score calculation

# ë³¸ë¬¸ê³¼ í‘¸í„°ëŠ” ì„ íƒì‚¬í•­
feat(coaching): implement AI coaching card generation

- Add OpenAI integration for personalized coaching
- Implement rule-based recommendation engine
- Add caching for generated coaching cards

Closes #123
```

#### ì»¤ë°‹ íƒ€ì…
| íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| `feat` | ìƒˆë¡œìš´ ê¸°ëŠ¥ | `feat(api): add leader CRUD endpoints` |
| `fix` | ë²„ê·¸ ìˆ˜ì • | `fix(ui): resolve responsive layout issue` |
| `docs` | ë¬¸ì„œ ë³€ê²½ | `docs(api): update endpoint documentation` |
| `style` | ìŠ¤íƒ€ì¼ ë³€ê²½ | `style(components): fix eslint warnings` |
| `refactor` | ë¦¬íŒ©í† ë§ | `refactor(utils): simplify score calculation` |
| `test` | í…ŒìŠ¤íŠ¸ ì¶”ê°€ | `test(api): add integration tests` |
| `chore` | ë¹Œë“œ/ë„êµ¬ ë³€ê²½ | `chore(deps): update dependencies` |

### 4.3 PR ê·œì¹™

#### PR ì œëª©
```bash
# âœ… ì˜¬ë°”ë¥¸ PR ì œëª©
feat: Add 3D leadership grid visualization dashboard
fix: Resolve survey response validation errors
docs: Update API documentation for v1.0

# âŒ ì˜ëª»ëœ PR ì œëª©
Update dashboard                    # ë„ˆë¬´ ëª¨í˜¸í•¨
Fix bugs                          # êµ¬ì²´ì ì´ì§€ ì•ŠìŒ
WIP: Working on features          # WIPëŠ” draftë¡œ í‘œì‹œ
```

#### PR ì„¤ëª… í…œí”Œë¦¿
```markdown
## ë³€ê²½ ì‚¬í•­
- [ ] 3D WebGL ê·¸ë¦¬ë“œ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] React Three Fiber í†µí•©
- [ ] ë¦¬ë”ì‹­ ì¢Œí‘œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

## í…ŒìŠ¤íŠ¸
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¶”ê°€ë¨
- [ ] ë¸Œë¼ìš°ì €ë³„ í˜¸í™˜ì„± í™•ì¸
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ

## ìŠ¤í¬ë¦°ìƒ·
![Dashboard Screenshot](./screenshots/dashboard.png)

## ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] TypeScript ì»´íŒŒì¼ ì—ëŸ¬ ì—†ìŒ
- [ ] ESLint ê²½ê³  ì—†ìŒ
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸ë¨

## ê´€ë ¨ ì´ìŠˆ
Closes #45
Related to #67
```

### 4.4 ë¸Œëœì¹˜ ë³´í˜¸ ê·œì¹™

```yaml
# GitHub branch protection settings
main:
  required_status_checks:
    - "TypeScript ì»´íŒŒì¼"
    - "ESLint ê²€ì‚¬"
    - "Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸"
    - "Playwright E2E í…ŒìŠ¤íŠ¸"
  require_pull_request_reviews: true
  required_approving_review_count: 1
  dismiss_stale_reviews: true
  require_code_owner_reviews: true
```

## 5. í…ŒìŠ¤íŠ¸ ê·œì¹™

### 5.1 í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

```
        /\
       /  \
      / E2E \     (10%) - Playwright
     /______\
    /        \
   / í†µí•© í…ŒìŠ¤íŠ¸ \   (20%) - API í…ŒìŠ¤íŠ¸
  /____________\
 /              \
/   ë‹¨ìœ„ í…ŒìŠ¤íŠ¸   \  (70%) - Jest + RTL
/________________\
```

### 5.2 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê·œì¹™

#### í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì¡°
```typescript
// src/lib/__tests__/leadership-calculator.test.ts
import { describe, it, expect } from '@jest/globals';
import { calculateLeadershipScores } from '../leadership-calculator';

describe('LeadershipCalculator', () => {
  describe('calculateLeadershipScores', () => {
    it('should calculate correct scores for valid answers', () => {
      // Given
      const answers = [7, 6, 8, 5, 9, 4, 7, 6, /* ... 31ê°œ */];
      
      // When
      const scores = calculateLeadershipScores(answers);
      
      // Then
      expect(scores.peopleConcern).toBe(7.125);
      expect(scores.productionConcern).toBe(7.375);
      expect(scores.candorLevel).toBe(6.75);
      expect(scores.lmxQuality).toBe(7.0);
    });
    
    it('should throw error for invalid answer count', () => {
      // Given
      const invalidAnswers = [1, 2, 3]; // 31ê°œê°€ ì•„ë‹˜
      
      // When & Then
      expect(() => calculateLeadershipScores(invalidAnswers))
        .toThrow('ì„¤ë¬¸ ì‘ë‹µì€ ì •í™•íˆ 31ê°œì—¬ì•¼ í•©ë‹ˆë‹¤');
    });
  });
});
```

#### ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
```json
// jest.config.js
{
  "collectCoverageFrom": [
    "src/**/*.{ts,tsx}",
    "!src/**/*.d.ts",
    "!src/**/*.stories.tsx"
  ],
  "coverageThreshold": {
    "global": {
      "branches": 80,
      "functions": 80,
      "lines": 80,
      "statements": 80
    },
    "src/lib/": {
      "branches": 90,
      "functions": 90,
      "lines": 90,
      "statements": 90
    }
  }
}
```

### 5.3 ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

```typescript
// src/components/__tests__/LeaderCard.test.tsx
import { render, screen } from '@testing-library/react';
import { LeaderCard } from '../LeaderCard';

describe('LeaderCard', () => {
  const mockLeader = {
    id: '1',
    name: 'ê¹€ë¦¬ë”',
    email: 'leader@test.com',
    scores: {
      peopleConcern: 7.1,
      productionConcern: 7.4,
      candorLevel: 6.8,
      lmxQuality: 7.0
    }
  };

  it('should display leader information correctly', () => {
    render(<LeaderCard leader={mockLeader} />);
    
    expect(screen.getByText('ê¹€ë¦¬ë”')).toBeInTheDocument();
    expect(screen.getByText('leader@test.com')).toBeInTheDocument();
    expect(screen.getByText('7.1')).toBeInTheDocument(); // People Concern
  });

  it('should show leadership style badge', () => {
    render(<LeaderCard leader={mockLeader} />);
    
    expect(screen.getByText(/íŒ€í˜•/)).toBeInTheDocument();
  });
});
```

### 5.4 API í…ŒìŠ¤íŠ¸

```python
# tests/test_api/test_leaders.py
import pytest
from fastapi.testclient import TestClient
from app.main import app

client = TestClient(app)

class TestLeadersAPI:
    def test_get_leaders_success(self):
        # Given
        # í…ŒìŠ¤íŠ¸ DBì— ë¦¬ë” ë°ì´í„° ìƒì„±
        
        # When
        response = client.get("/api/v1/leaders")
        
        # Then
        assert response.status_code == 200
        data = response.json()
        assert "leaders" in data
        assert len(data["leaders"]) > 0
    
    def test_create_leader_success(self):
        # Given
        new_leader = {
            "name": "ë°•ì‹ ì…",
            "email": "new@test.com",
            "team": "engineering"
        }
        
        # When
        response = client.post("/api/v1/leaders", json=new_leader)
        
        # Then
        assert response.status_code == 201
        data = response.json()
        assert data["name"] == "ë°•ì‹ ì…"
        assert "id" in data
```

## 6. API ê°œë°œ ê·œì¹™

### 6.1 RESTful ì›ì¹™

```python
# âœ… ì˜¬ë°”ë¥¸ API ì„¤ê³„
GET    /api/v1/leaders              # ë¦¬ë” ëª©ë¡
GET    /api/v1/leaders/{id}         # íŠ¹ì • ë¦¬ë” ì¡°íšŒ
POST   /api/v1/leaders              # ë¦¬ë” ìƒì„±
PUT    /api/v1/leaders/{id}         # ë¦¬ë” ì „ì²´ ì—…ë°ì´íŠ¸
PATCH  /api/v1/leaders/{id}         # ë¦¬ë” ë¶€ë¶„ ì—…ë°ì´íŠ¸
DELETE /api/v1/leaders/{id}         # ë¦¬ë” ì‚­ì œ

GET    /api/v1/leaders/{id}/responses    # ë¦¬ë”ì˜ ì„¤ë¬¸ ì‘ë‹µë“¤
POST   /api/v1/leaders/{id}/coaching     # ì½”ì¹­ ì¹´ë“œ ìƒì„±

# âŒ ì˜ëª»ëœ API ì„¤ê³„
POST   /api/v1/getLeaders           # GET ë©”ì„œë“œ ì‚¬ìš©í•´ì•¼ í•¨
GET    /api/v1/leader-create        # POST ë©”ì„œë“œ ì‚¬ìš©í•´ì•¼ í•¨
PUT    /api/v1/updateLeader/{id}    # ë™ì‚¬ ì‚¬ìš© ê¸ˆì§€
```

### 6.2 ì‘ë‹µ í˜•ì‹ í‘œì¤€í™”

```python
# responses/base.py
from pydantic import BaseModel
from typing import Generic, TypeVar, Optional

T = TypeVar('T')

class APIResponse(BaseModel, Generic[T]):
    success: bool = True
    data: Optional[T] = None
    message: Optional[str] = None
    errors: Optional[list[str]] = None

class PaginatedResponse(BaseModel, Generic[T]):
    items: list[T]
    total: int
    page: int
    limit: int
    pages: int

# âœ… ì„±ê³µ ì‘ë‹µ
{
  "success": true,
  "data": {
    "id": "123",
    "name": "ê¹€ë¦¬ë”"
  },
  "message": "ë¦¬ë” ì •ë³´ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤"
}

# âœ… ì—ëŸ¬ ì‘ë‹µ
{
  "success": false,
  "data": null,
  "message": "ë¦¬ë”ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
  "errors": ["LEADER_NOT_FOUND"]
}
```

### 6.3 Pydantic ìŠ¤í‚¤ë§ˆ ê·œì¹™

```python
# schemas/leader.py
from pydantic import BaseModel, EmailStr, Field
from typing import Optional
from datetime import datetime

class LeaderBase(BaseModel):
    name: str = Field(..., min_length=1, max_length=100)
    email: EmailStr
    team: Optional[str] = Field(None, max_length=100)
    position: Optional[str] = Field(None, max_length=100)

class LeaderCreate(LeaderBase):
    """ë¦¬ë” ìƒì„± ì‹œ ì‚¬ìš©í•˜ëŠ” ìŠ¤í‚¤ë§ˆ"""
    pass

class LeaderUpdate(BaseModel):
    """ë¦¬ë” ì—…ë°ì´íŠ¸ ì‹œ ì‚¬ìš©í•˜ëŠ” ìŠ¤í‚¤ë§ˆ (ëª¨ë“  í•„ë“œ ì„ íƒì )"""
    name: Optional[str] = Field(None, min_length=1, max_length=100)
    email: Optional[EmailStr] = None
    team: Optional[str] = Field(None, max_length=100)
    position: Optional[str] = Field(None, max_length=100)

class LeaderResponse(LeaderBase):
    """API ì‘ë‹µì—ì„œ ì‚¬ìš©í•˜ëŠ” ìŠ¤í‚¤ë§ˆ"""
    id: str
    created_at: datetime
    updated_at: datetime
    
    class Config:
        from_attributes = True  # SQLAlchemy ëª¨ë¸ê³¼ í˜¸í™˜
```

### 6.4 ì—ëŸ¬ ì²˜ë¦¬

```python
# exceptions/handlers.py
from fastapi import HTTPException, Request
from fastapi.responses import JSONResponse
from sqlalchemy.exc import IntegrityError

async def integrity_error_handler(request: Request, exc: IntegrityError):
    """ë°ì´í„°ë² ì´ìŠ¤ ë¬´ê²°ì„± ì—ëŸ¬ ì²˜ë¦¬"""
    if "duplicate key" in str(exc.orig):
        return JSONResponse(
            status_code=409,
            content={
                "success": false,
                "message": "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë°ì´í„°ì…ë‹ˆë‹¤",
                "errors": ["DUPLICATE_ENTRY"]
            }
        )
    
    return JSONResponse(
        status_code=500,
        content={
            "success": false,
            "message": "ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤",
            "errors": ["DATABASE_ERROR"]
        }
    )

# main.pyì—ì„œ ë“±ë¡
app.add_exception_handler(IntegrityError, integrity_error_handler)
```

## 7. ë°ì´í„°ë² ì´ìŠ¤ ê·œì¹™

### 7.1 ë§ˆì´ê·¸ë ˆì´ì…˜ ê·œì¹™

#### ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ë„¤ì´ë°
```bash
# alembic/versions/
001_2025_08_02_1000_initial_schema.py
002_2025_08_02_1130_add_coaching_cards.py
003_2025_08_03_0900_add_pulse_surveys.py
```

#### ìœ„í—˜í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸ˆì§€
```python
# âŒ ì ˆëŒ€ ê¸ˆì§€
def upgrade():
    op.drop_table('survey_responses')           # ë°ì´í„° ì†ì‹¤
    op.execute("TRUNCATE TABLE leaders")       # ë°ì´í„° ì‚­ì œ
    op.execute("DROP DATABASE production")     # ë°ì´í„°ë² ì´ìŠ¤ ì‚­ì œ

# âœ… ì•ˆì „í•œ ë§ˆì´ê·¸ë ˆì´ì…˜
def upgrade():
    # ìƒˆ ì»¬ëŸ¼ ì¶”ê°€ (NOT NULLì´ë©´ ê¸°ë³¸ê°’ ì„¤ì •)
    op.add_column('leaders', 
        sa.Column('phone', sa.String(20), nullable=True))
    
    # ì¸ë±ìŠ¤ ì¶”ê°€
    op.create_index('idx_leaders_team', 'leaders', ['team'])
    
    # ë°ì´í„° ë³€í™˜ (ì•ˆì „í•œ ì—…ë°ì´íŠ¸)
    op.execute("""
        UPDATE leaders 
        SET updated_at = NOW() 
        WHERE updated_at IS NULL
    """)
```

### 7.2 ì¿¼ë¦¬ ì„±ëŠ¥ ê·œì¹™

```python
# âœ… ì˜¬ë°”ë¥¸ ì¿¼ë¦¬ (N+1 ë¬¸ì œ í•´ê²°)
from sqlalchemy.orm import selectinload

async def get_leaders_with_responses(db: AsyncSession):
    result = await db.execute(
        select(Leader)
        .options(selectinload(Leader.survey_responses))
        .where(Leader.is_active == True)
    )
    return result.scalars().all()

# âŒ N+1 ì¿¼ë¦¬ ë¬¸ì œ
async def bad_get_leaders_with_responses(db: AsyncSession):
    leaders = await db.execute(select(Leader))
    for leader in leaders.scalars():
        # ê° ë¦¬ë”ë§ˆë‹¤ ë³„ë„ ì¿¼ë¦¬ ì‹¤í–‰ (N+1 ë¬¸ì œ)
        responses = await db.execute(
            select(SurveyResponse)
            .where(SurveyResponse.leader_id == leader.id)
        )
```

### 7.3 ë°ì´í„° ê²€ì¦

```python
# models/leader.py
from sqlalchemy import Column, String, DateTime, Boolean, CheckConstraint
from sqlalchemy.ext.hybrid import hybrid_property

class Leader(Base):
    __tablename__ = "leaders"
    
    email = Column(String(255), unique=True, nullable=False)
    name = Column(String(100), nullable=False)
    
    # ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ ì œì•½ì¡°ê±´
    __table_args__ = (
        CheckConstraint(
            "email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}$'",
            name='valid_email'
        ),
        CheckConstraint(
            "LENGTH(TRIM(name)) > 0",
            name='name_not_empty'
        ),
    )
    
    @hybrid_property
    def full_info(self) -> str:
        """ë¦¬ë” ì „ì²´ ì •ë³´ ë¬¸ìì—´"""
        return f"{self.name} ({self.email})"
```

## 8. ì„±ëŠ¥ ë° ë³´ì•ˆ

### 8.1 ì„±ëŠ¥ ìµœì í™”

#### í”„ë¡ íŠ¸ì—”ë“œ ì„±ëŠ¥
```typescript
// âœ… ë©”ëª¨ì´ì œì´ì…˜ í™œìš©
import { memo, useMemo, useCallback } from 'react';

const LeaderCard = memo(({ leader, onSelect }: LeaderCardProps) => {
  const leadershipStyle = useMemo(() => 
    determineLeadershipStyle(leader.scores), [leader.scores]
  );
  
  const handleClick = useCallback(() => 
    onSelect(leader.id), [leader.id, onSelect]
  );
  
  return (
    <div onClick={handleClick}>
      {/* ì»´í¬ë„ŒíŠ¸ ë‚´ìš© */}
    </div>
  );
});

// âœ… ì§€ì—° ë¡œë”©
const CoachingDashboard = lazy(() => import('./CoachingDashboard'));

function App() {
  return (
    <Suspense fallback={<LoadingSpinner />}>
      <CoachingDashboard />
    </Suspense>
  );
}
```

#### ë°±ì—”ë“œ ì„±ëŠ¥
```python
# âœ… ìºì‹± í™œìš©
from functools import lru_cache
import redis

redis_client = redis.Redis(host='localhost', port=6379, db=0)

@lru_cache(maxsize=128)
def calculate_leadership_style(people: float, production: float) -> str:
    """ë¦¬ë”ì‹­ ìŠ¤íƒ€ì¼ ê³„ì‚° (ë©”ëª¨ë¦¬ ìºì‹œ)"""
    if people >= 7 and production >= 7:
        return f"íŒ€í˜•({people}, {production})"
    # ... ê¸°íƒ€ ë¡œì§

async def get_dashboard_data(team: Optional[str] = None):
    """ëŒ€ì‹œë³´ë“œ ë°ì´í„° (Redis ìºì‹œ)"""
    cache_key = f"dashboard:{team or 'all'}"
    cached = redis_client.get(cache_key)
    
    if cached:
        return json.loads(cached)
    
    # ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ
    data = await fetch_dashboard_data(team)
    
    # 5ë¶„ ìºì‹œ
    redis_client.setex(cache_key, 300, json.dumps(data))
    return data
```

### 8.2 ë³´ì•ˆ ê·œì¹™

#### ì¸ì¦ ë° ê¶Œí•œ
```python
# security/auth.py
from fastapi import Depends, HTTPException, status
from fastapi.security import HTTPBearer
import jwt

security = HTTPBearer()

async def get_current_user(token: str = Depends(security)) -> User:
    """JWT í† í°ì—ì„œ í˜„ì¬ ì‚¬ìš©ì ì¶”ì¶œ"""
    try:
        payload = jwt.decode(token.credentials, SECRET_KEY, algorithms=["HS256"])
        user_id = payload.get("sub")
        if user_id is None:
            raise HTTPException(status_code=401, detail="Invalid token")
        
        user = await get_user_by_id(user_id)
        if user is None:
            raise HTTPException(status_code=401, detail="User not found")
        
        return user
    except jwt.PyJWTError:
        raise HTTPException(status_code=401, detail="Invalid token")

def require_role(required_role: str):
    """íŠ¹ì • ì—­í•  ê¶Œí•œ í•„ìš”"""
    def role_checker(current_user: User = Depends(get_current_user)):
        if current_user.role != required_role:
            raise HTTPException(status_code=403, detail="Insufficient permissions")
        return current_user
    return role_checker

# ì‚¬ìš© ì˜ˆì‹œ
@app.get("/admin/users")
async def get_all_users(admin: User = Depends(require_role("admin"))):
    return await fetch_all_users()
```

#### ì…ë ¥ ê²€ì¦
```python
# âœ… ì…ë ¥ ë°ì´í„° ê²€ì¦
from pydantic import validator, Field

class SurveyResponseCreate(BaseModel):
    answers: List[int] = Field(..., min_items=31, max_items=31)
    
    @validator('answers')
    def validate_answer_range(cls, v):
        for answer in v:
            if not (1 <= answer <= 7):
                raise ValueError('ëª¨ë“  ì‘ë‹µì€ 1-7 ë²”ìœ„ì—¬ì•¼ í•©ë‹ˆë‹¤')
        return v

# âœ… SQL ì¸ì ì…˜ ë°©ì§€ (Parameterized Query)
async def get_leaders_by_team(db: AsyncSession, team: str):
    result = await db.execute(
        select(Leader).where(Leader.team == team)  # âœ… SQLAlchemy ORM ì‚¬ìš©
    )
    return result.scalars().all()

# âŒ SQL ì¸ì ì…˜ ìœ„í—˜
async def bad_get_leaders_by_team(db: AsyncSession, team: str):
    query = f"SELECT * FROM leaders WHERE team = '{team}'"  # âŒ ìœ„í—˜!
    result = await db.execute(text(query))
    return result.fetchall()
```

## 9. ë¬¸ì„œí™” ê·œì¹™

### 9.1 ì½”ë“œ ì£¼ì„

```typescript
/**
 * 4ì°¨ì› ë¦¬ë”ì‹­ ì ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
 * 
 * @param answers - 31ê°œì˜ ì„¤ë¬¸ ì‘ë‹µ (1-7 ì )
 * @returns 4ì°¨ì› ë¦¬ë”ì‹­ ì ìˆ˜ ê°ì²´
 * 
 * @example
 * ```typescript
 * const answers = [7, 6, 8, 5, ...]; // 31ê°œ
 * const scores = calculateLeadershipScores(answers);
 * console.log(scores.peopleConcern); // 7.125
 * ```
 * 
 * @throws {Error} ì‘ë‹µì´ 31ê°œê°€ ì•„ë‹Œ ê²½ìš°
 * @throws {Error} ì‘ë‹µ ê°’ì´ 1-7 ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ê²½ìš°
 */
function calculateLeadershipScores(answers: number[]): LeadershipScores {
  if (answers.length !== 31) {
    throw new Error('ì„¤ë¬¸ ì‘ë‹µì€ ì •í™•íˆ 31ê°œì—¬ì•¼ í•©ë‹ˆë‹¤');
  }
  
  // ì…ë ¥ ê°’ ê²€ì¦
  answers.forEach((answer, index) => {
    if (answer < 1 || answer > 7) {
      throw new Error(`${index + 1}ë²ˆ ì‘ë‹µ(${answer})ì´ ìœ íš¨ ë²”ìœ„(1-7)ë¥¼ ë²—ì–´ë‚¬ìŠµë‹ˆë‹¤`);
    }
  });
  
  // People Concern ê³„ì‚° (ë¬¸í•­ 1-8)
  const peopleConcern = answers.slice(0, 8)
    .reduce((sum, answer) => sum + answer, 0) / 8;
  
  // ... ê¸°íƒ€ ê³„ì‚° ë¡œì§
  
  return {
    peopleConcern: Number(peopleConcern.toFixed(3)),
    productionConcern: Number(productionConcern.toFixed(3)),
    candorLevel: Number(candorLevel.toFixed(3)),
    lmxQuality: Number(lmxQuality.toFixed(3))
  };
}
```

### 9.2 README ì‘ì„±

```markdown
# Grid 3.0 Leadership Mapping Platform

## ë¹ ë¥¸ ì‹œì‘

### ì „ì œ ì¡°ê±´
- Node.js 20 LTS
- Python 3.12
- PostgreSQL 15

### ì„¤ì¹˜ ë° ì‹¤í–‰
\`\`\`bash
# í”„ë¡ íŠ¸ì—”ë“œ
cd frontend
npm install
npm run dev

# ë°±ì—”ë“œ
cd backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload
\`\`\`

### í™˜ê²½ ë³€ìˆ˜
\`\`\`bash
# .env.example ë³µì‚¬
cp .env.example .env

# í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜
DATABASE_URL=postgresql://user:pass@localhost:5432/grid3
JWT_SECRET_KEY=your-secret-key
OPENAI_API_KEY=your-openai-key
\`\`\`

## ì•„í‚¤í…ì²˜

- **í”„ë¡ íŠ¸ì—”ë“œ**: Next.js 14 + TypeScript + Tailwind CSS
- **ë°±ì—”ë“œ**: FastAPI + PostgreSQL + pgvector
- **ë°°í¬**: Vercel + Supabase
```

## 10. ë°°í¬ ë° ìš´ì˜

### 10.1 í™˜ê²½ë³„ ì„¤ì •

```yaml
# .github/workflows/deploy.yml
name: Deploy Grid 3.0

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
          
      - name: Install dependencies
        run: npm ci
        
      - name: Run TypeScript check
        run: npm run type-check
        
      - name: Run ESLint
        run: npm run lint
        
      - name: Run tests
        run: npm run test:ci
        
      - name: Run E2E tests
        run: npm run test:e2e

  deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v4
      
      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.ORG_ID }}
          vercel-project-id: ${{ secrets.PROJECT_ID }}
```

### 10.2 ëª¨ë‹ˆí„°ë§

```typescript
// lib/monitoring.ts
export class PerformanceMonitor {
  static measureApiCall<T>(
    apiName: string, 
    apiCall: () => Promise<T>
  ): Promise<T> {
    const startTime = performance.now();
    
    return apiCall()
      .then(result => {
        const duration = performance.now() - startTime;
        this.logMetric('api_call_duration', duration, { api: apiName });
        return result;
      })
      .catch(error => {
        const duration = performance.now() - startTime;
        this.logError('api_call_error', error, { api: apiName, duration });
        throw error;
      });
  }
  
  private static logMetric(name: string, value: number, tags: Record<string, string>) {
    // ë©”íŠ¸ë¦­ ìˆ˜ì§‘ (DataDog, CloudWatch ë“±)
    console.log(`METRIC ${name}:${value}`, tags);
  }
  
  private static logError(name: string, error: Error, context: Record<string, any>) {
    // ì—ëŸ¬ ë¡œê¹… (Sentry ë“±)
    console.error(`ERROR ${name}:`, error.message, context);
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const leaderData = await PerformanceMonitor.measureApiCall(
  'get_leader_data',
  () => api.getLeader(leaderId)
);
```

---

## ê·œì¹™ ì¤€ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

ê°œë°œ ì™„ë£Œ ì „ ë‹¤ìŒ í•­ëª©ë“¤ì„ í™•ì¸í•˜ì„¸ìš”:

### ì½”ë“œ í’ˆì§ˆ âœ…
- [ ] TypeScript strict ëª¨ë“œ ì—ëŸ¬ ì—†ìŒ
- [ ] ESLint ê²½ê³  ì—†ìŒ
- [ ] í•¨ìˆ˜ í¬ê¸° 20ì¤„ ì´í•˜
- [ ] ì˜ë¯¸ ìˆëŠ” ë³€ìˆ˜/í•¨ìˆ˜ëª… ì‚¬ìš©
- [ ] ì£¼ì„ìœ¼ë¡œ ë³µì¡í•œ ë¡œì§ ì„¤ëª…

### í…ŒìŠ¤íŠ¸ âœ…
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€
- [ ] E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ í™•ì¸
- [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸

### ì„±ëŠ¥ âœ…
- [ ] ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
- [ ] API í˜¸ì¶œ ìµœì í™”
- [ ] ë²ˆë“¤ í¬ê¸° í™•ì¸
- [ ] ë¡œë”© ìƒíƒœ ì²˜ë¦¬

### ë³´ì•ˆ âœ…
- [ ] ì…ë ¥ ë°ì´í„° ê²€ì¦
- [ ] SQL ì¸ì ì…˜ ë°©ì§€
- [ ] ì¸ì¦/ê¶Œí•œ í™•ì¸
- [ ] ë¯¼ê° ì •ë³´ ë¡œê¹… ê¸ˆì§€

### ë¬¸ì„œí™” âœ…
- [ ] API ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] ì£¼ìš” í•¨ìˆ˜ JSDoc ì‘ì„±
- [ ] README ì—…ë°ì´íŠ¸
- [ ] ë³€ê²½ì‚¬í•­ CHANGELOG ê¸°ë¡

ì´ ê°œë°œ ê·œì¹™ì„ ì² ì €íˆ ì¤€ìˆ˜í•˜ì—¬ Grid 3.0 ë¦¬ë”ì‹­ ë§¤í•‘ í”Œë«í¼ì„ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•˜ê²Œ êµ¬ì¶•í•˜ê² ì†Œ, TJë‹˜!